function Slideshow(a){function b(a){var b="";$.getJSON(M,function(c){$.each(c,function(){var a='<div class="slide"><figure><img src="'+this.url+'" /><figcaption>'+this.caption+"</figcaption></figure></div>";b+=a}),G.html(b),a()}).error(function(a,b,c){console.warn(b,c)})}function c(){if(D.addClass("loading"),A.preload_images&&G.find("img").length){if("function"!=typeof jQuery.fn.imagesLoaded)return void d();G.imagesLoaded(d)}else d()}function d(){if("relative"!==G.css("position"))return void console.warn("slideshow styles are not loaded!");if(window.MutationObserver&&!D.is(":visible")){var a=new MutationObserver(function(b){b.forEach(function(b){D.is(":visible")&&(a.disconnect(),e())})}),b={attributes:!0,subtree:!0};a.observe($("body").get(0),b)}else e()}function e(){D.removeClass("loading"),A.autoplay&&f(),A.loop&&m(),l(),J.div=G.find(".slide"),J.count=J.div.length,D.has(".slideTabs")&&h(),q(),$(window).on("resize.slideshow",i),i(),B.isInitialized=!0}function f(){A.loop=!0,y=window.setTimeout(function(){x=window.setInterval(function(){n("next")},A.displayTime)},A.autoplay_start_delay)}function g(){A.autoplay&&(A.autoplay=!1,window.clearInterval(x),window.clearTimeout(y))}function h(){var a=D.find(".slideTabs");if(0===a.children().length)for(var b=A.loop?J.count-2:J.count/A.visibleSlidesCount,c=0;b>c;c++)a.append('<a href="#"></a>');a.on("click","a",function(a){a.preventDefault(),g(),H=A.visibleSlidesCount>1?$(this).index()*A.visibleSlidesCount+1:$(this).index()+1,p(A.loop?H:H-1)})}function i(a){if(window.MutationObserver&&!D.is(":visible")){$(window).off("resize.slideshow");var b=new MutationObserver(function(a){a.forEach(function(a){D.is(":visible")&&(b.disconnect(),$(window).on("resize.slideshow",i),j())})}),c={attributes:!0,subtree:!0};b.observe($("body").get(0),c)}else j()}function j(){B.width=D.find(".wrapper").width(),A.multiple_slides?A.visibleSlidesCount>1&&J.div.width(k()):J.div.width(B.width),o(),p(A.loop?H:H-1,0),A.variableHeight&&r()}function k(){var a=A.visibleSlidesCount,b=D.find(".wrapper").width(),c=(a-1)*A.slide_margin_right,d=(100-c)/a,e=parseInt(b*d/100),f=parseInt(b*A.slide_margin_right/100);return D.find(".slide").width(e).css("margin-right",f),e}function l(){D.on("click",".prev, .next",function(a){if(a.preventDefault(),!$(this).hasClass("disabled")){g();var b=$(this).hasClass("next")?"next":"previous";n(b)}})}function m(){var a=G.find(".slide").first().clone().addClass("fake post_last"),b=G.find(".slide").last().clone().addClass("fake pre_first");G.append(a).prepend(b)}function n(a){var b=A.visibleSlidesCount;"next"==a?A.loop?H<J.count-1?H++:(G.css({left:-J.div.eq(1).position().left}),H=2):H<J.count&&(H+=b):A.loop?H>0?H--:(G.css({left:-J.div.eq(J.count-2).position().left}),H=J.count-3):H>b&&(H-=b),p(A.loop?H:H-1)}function o(){var a=0,b=parseInt(J.div.css("margin-right"))||0;G.width(5e4);for(var c=0;c<J.count;c++)a=a+J.div.eq(c).outerWidth()+b,K=a;G.width(K)}function p(a,b){var c=void 0===b?A.transition_delay:b,d=J.div.eq(a),e=d.position().left,f=d.position().left+d.width()/2,g=B.width/2;A.multiple_slides&&"center"===A.align&&(f>g?K-g>f?e-=(B.width-d.width())/2:e=K-B.width:e=0),u(),I=a-1,J.div.removeClass("currentSlide"),d.addClass("currentSlide"),G.stop(!0,!1).animate({left:-e},c,A.easing,function(){A.variableHeight&&0==L&&r(),A.callback&&A.callback(B)})}function q(){var a,b,c=J.div;c.bind(TouchMouseEvent.DOWN,function(c){c.preventDefault(),a=c.pageX,b=a}),c.bind(TouchMouseEvent.MOVE,function(a){a.preventDefault(),b=a.pageX}),c.bind(TouchMouseEvent.UP,function(d){d.preventDefault();var e=c.index($(this));A.autoplay&&g(),a>b?F.hasClass("disabled")||n("next"):b>a?E.hasClass("disabled")||n("previous"):"thumb_nails"===A.mode&&e!=H&&(H=e,o())})}function r(){$(C+" .wrapper").css("height",s()),A.align_buttons()}function s(){var a,b=A.loop?H:H-1;return a=1===A.visibleSlidesCount?$(C+" .slide").eq(b).outerHeight():function(){var a=0;return D.find(".slide").each(function(){var b=$(this).outerHeight();b>a&&(a=b)}),L=a,a}()}function t(){J.div=$(C+" .slide"),J.count=J.div.length,o(),H>J.count&&0!=J.count&&(H=J.count,p(H)),u()}function u(){0==J.count&&(H=0),H==J.count-1&&A.loop?$(C+" .slideNumber").text("1"):0==H&&A.loop?$(C+" .slideNumber").text(J.count-2):$(C+" .slideNumber").text(H),D.has(".slideTabs")&&v(),A.loop||w(),$(C+" .slidesCount").text(A.loop?J.count-2:J.count)}function v(){var a=$(C+" .slideTabs a");a.removeClass("selected"),A.loop?H==J.count-1?a.eq(0).addClass("selected"):0==H?a.eq(J.count-3).addClass("selected"):a.eq(H-1).addClass("selected"):a.eq(Math.ceil(H/A.visibleSlidesCount)-1).addClass("selected")}function w(){1==A.visibleSlidesCount?H==J.count&&1==H?(E.addClass("disabled"),F.addClass("disabled")):H==J.count?(E.removeClass("disabled"),F.addClass("disabled")):1==H?(E.addClass("disabled"),F.removeClass("disabled")):(E.removeClass("disabled"),F.removeClass("disabled")):H>J.count-A.visibleSlidesCount?(E.removeClass("disabled"),F.addClass("disabled")):H<A.visibleSlidesCount?(E.addClass("disabled"),F.removeClass("disabled")):(E.removeClass("disabled"),F.removeClass("disabled"))}var x,y,z={align:"left",mode:"default",autoplay:!1,autoplay_start_delay:0,callback:null,displayTime:3e3,easing:"swing",id:null,startingSlideNumber:1,visibleSlidesCount:1,slideTab_has_value:!1,transition_delay:500,preload_images:!1,loop:!1,variableHeight:!1,variableWidth:!0,role:"",loader_image:"img/loader.gif",multiple_slides:!1,slide_margin_right:0,align_buttons:function(){var a=D.find(".next").height();D.find(".prev, .next").css("top",(s()-a)/2)}},A=$.extend(!0,z,a),B=this,C="#"+A.id,D=$(C),E=D.find(".prev"),F=D.find(".next"),G=D.find(".slides"),H=A.startingSlideNumber,I=0,J={},K=0,L=0;B.isInitialized=!1,this.width=0,this.slideNumber=function(a){return a?(H=parseInt(a),t(),p(H-1),void 0):H},this.getSlideCount=function(){return J.count};var M=A.json||D.data("json");M?b(c):c()}!function(){TouchMouseEvent={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"};var a=function(a){var b;switch(a.type){case"mousedown":b=TouchMouseEvent.DOWN;break;case"mouseup":b=TouchMouseEvent.UP;break;case"mousemove":b=TouchMouseEvent.MOVE;break;default:return}var d=c(b,a,a.pageX,a.pageY);$(a.target).trigger(d)},b=function(a){var b;switch(a.type){case"touchstart":b=TouchMouseEvent.DOWN;break;case"touchend":b=TouchMouseEvent.UP;break;case"touchmove":b=TouchMouseEvent.MOVE;break;default:return}var d,e=a.originalEvent.touches[0];d=b==TouchMouseEvent.UP?c(b,a,null,null):c(b,a,e.pageX,e.pageY),$(a.target).trigger(d)},c=function(a,b,c,d){return $.Event(a,{pageX:c,pageY:d,originalEvent:b})},d=$(document);"ontouchstart"in window?(d.on("touchstart",b),d.on("touchmove",b),d.on("touchend",b)):(d.on("mousedown",a),d.on("mouseup",a),d.on("mousemove",a))}();