function Slideshow(a){function b(a){function b(){var b=c(f);G.html(b),a()}var c,d=!1,e=!1,f={};$.getJSON(M,function(a){e=!0,f.slides=a,d&&b()}).error(function(a,b,c){console.warn(b,c)}),$.ajax({url:templateUri,dataType:"html",success:function(a){c=Handlebars.compile(a),e&&b()},error:function(a,b,c){console.warn(b,c)}})}function c(){if(x=G.find(".prev"),y=G.find(".next"),z=G.find(".slides"),0===z.length)return void console.warn("slideshow has no markup");if("relative"!==z.css("position"))return void console.warn("slideshow styles are not loaded!");if(G.addClass("loading"),D.preload_images&&z.find("img").length){if("function"!=typeof jQuery.fn.imagesLoaded)return void d();z.imagesLoaded(d)}else d()}function d(){if(window.MutationObserver&&!G.is(":visible")){var a=new MutationObserver(function(b){b.forEach(function(b){G.is(":visible")&&(a.disconnect(),e())})}),b={attributes:!0,subtree:!0};a.observe($("body").get(0),b)}else e()}function e(){G.removeClass("loading"),D.autoplay&&f(),D.loop&&m(),l(),J.div=z.find(".slide"),J.count=J.div.length,G.has(".slideTabs")&&h(),q(),$(window).on("resize.slideshow",i),i(),E.isInitialized=!0}function f(){D.loop=!0,B=window.setTimeout(function(){A=window.setInterval(function(){n("next")},D.displayTime)},D.autoplay_start_delay)}function g(){D.autoplay&&(D.autoplay=!1,window.clearInterval(A),window.clearTimeout(B))}function h(){var a=G.find(".slideTabs");if(0===a.children().length)for(var b=D.loop?J.count-2:J.count/D.visibleSlidesCount,c=0;b>c;c++)a.append('<a href="#"></a>');a.on("click","a",function(a){a.preventDefault(),g(),H=D.visibleSlidesCount>1?$(this).index()*D.visibleSlidesCount+1:$(this).index()+1,p(D.loop?H:H-1)})}function i(a){if(window.MutationObserver&&!G.is(":visible")){$(window).off("resize.slideshow");var b=new MutationObserver(function(a){a.forEach(function(a){G.is(":visible")&&(b.disconnect(),$(window).on("resize.slideshow",i),j())})}),c={attributes:!0,subtree:!0};b.observe($("body").get(0),c)}else j()}function j(){E.width=G.find(".wrapper").width(),D.multiple_slides?D.visibleSlidesCount>1&&J.div.width(k()):J.div.width(E.width),o(),p(D.loop?H:H-1,0),D.variableHeight&&r()}function k(){var a=D.visibleSlidesCount,b=G.find(".wrapper").width(),c=(a-1)*D.slide_margin_right,d=(100-c)/a,e=parseInt(b*d/100),f=parseInt(b*D.slide_margin_right/100);return G.find(".slide").width(e).css("margin-right",f),e}function l(){G.on("click",".prev, .next",function(a){if(a.preventDefault(),!$(this).hasClass("disabled")){g();var b=$(this).hasClass("next")?"next":"previous";n(b)}})}function m(){var a=z.find(".slide").first().clone().addClass("fake post_last"),b=z.find(".slide").last().clone().addClass("fake pre_first");z.append(a).prepend(b)}function n(a){var b=D.visibleSlidesCount;"next"==a?D.loop?H<J.count-1?H++:(z.css({left:-J.div.eq(1).position().left}),H=2):H<J.count&&(H+=b):D.loop?H>0?H--:(z.css({left:-J.div.eq(J.count-2).position().left}),H=J.count-3):H>b&&(H-=b),p(D.loop?H:H-1)}function o(){var a=0,b=parseInt(J.div.css("margin-right"))||0;z.width(5e4);for(var c=0;c<J.count;c++)a=a+J.div.eq(c).outerWidth()+b,K=a;z.width(K)}function p(a,b){var c=void 0===b?D.transition_delay:b,d=J.div.eq(a),e=d.position().left,f=d.position().left+d.width()/2,g=E.width/2;D.multiple_slides&&"center"===D.align&&(f>g?K-g>f?e-=(E.width-d.width())/2:e=K-E.width:e=0),u(),I=a-1,J.div.removeClass("currentSlide"),d.addClass("currentSlide"),z.stop(!0,!1).animate({left:-e},c,D.easing,function(){D.variableHeight&&0==L&&r(),D.callback&&D.callback(E)})}function q(){var a,b,c=J.div;c.bind(TouchMouseEvent.DOWN,function(c){c.preventDefault(),a=c.pageX,b=a}),c.bind(TouchMouseEvent.MOVE,function(a){a.preventDefault(),b=a.pageX}),c.bind(TouchMouseEvent.UP,function(d){d.preventDefault();var e=c.index($(this));D.autoplay&&g(),a>b?y.hasClass("disabled")||n("next"):b>a?x.hasClass("disabled")||n("previous"):"thumb_nails"===D.mode&&e!=H&&(H=e,o())})}function r(){$(F+" .wrapper").css("height",s()),D.align_buttons()}function s(){var a,b=D.loop?H:H-1;return a=1===D.visibleSlidesCount?$(F+" .slide").eq(b).outerHeight():function(){var a=0;return G.find(".slide").each(function(){var b=$(this).outerHeight();b>a&&(a=b)}),L=a,a}()}function t(){J.div=$(F+" .slide"),J.count=J.div.length,o(),H>J.count&&0!=J.count&&(H=J.count,p(H)),u()}function u(){0==J.count&&(H=0),H==J.count-1&&D.loop?$(F+" .slideNumber").text("1"):0==H&&D.loop?$(F+" .slideNumber").text(J.count-2):$(F+" .slideNumber").text(H),G.has(".slideTabs")&&v(),D.loop||w(),$(F+" .slidesCount").text(D.loop?J.count-2:J.count)}function v(){var a=$(F+" .slideTabs a");a.removeClass("selected"),D.loop?H==J.count-1?a.eq(0).addClass("selected"):0==H?a.eq(J.count-3).addClass("selected"):a.eq(H-1).addClass("selected"):a.eq(Math.ceil(H/D.visibleSlidesCount)-1).addClass("selected")}function w(){1==D.visibleSlidesCount?H==J.count&&1==H?(x.addClass("disabled"),y.addClass("disabled")):H==J.count?(x.removeClass("disabled"),y.addClass("disabled")):1==H?(x.addClass("disabled"),y.removeClass("disabled")):(x.removeClass("disabled"),y.removeClass("disabled")):H>J.count-D.visibleSlidesCount?(x.removeClass("disabled"),y.addClass("disabled")):H<D.visibleSlidesCount?(x.addClass("disabled"),y.removeClass("disabled")):(x.removeClass("disabled"),y.removeClass("disabled"))}var x,y,z,A,B,C={align:"left",mode:"default",autoplay:!1,autoplay_start_delay:0,callback:null,displayTime:3e3,easing:"swing",id:null,startingSlideNumber:1,visibleSlidesCount:1,slideTab_has_value:!1,transition_delay:500,preload_images:!1,loop:!1,variableHeight:!1,variableWidth:!0,role:"",loader_image:"img/loader.gif",multiple_slides:!1,slide_margin_right:0,align_buttons:function(){var a=G.find(".next").height();G.find(".prev, .next").css("top",(s()-a)/2)}},D=$.extend(!0,C,a),E=this,F="#"+D.id,G=$(F),H=D.startingSlideNumber,I=0,J={},K=0,L=0,M=D.json||G.data("json");templateUri=D.template||G.data("template"),E.isInitialized=!1,this.width=0,this.slideNumber=function(a){return a?(H=parseInt(a),t(),p(H-1),void 0):H},this.getSlideCount=function(){return J.count},M?b(c):c()}!function(){TouchMouseEvent={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"};var a=function(a){var b;switch(a.type){case"mousedown":b=TouchMouseEvent.DOWN;break;case"mouseup":b=TouchMouseEvent.UP;break;case"mousemove":b=TouchMouseEvent.MOVE;break;default:return}var d=c(b,a,a.pageX,a.pageY);$(a.target).trigger(d)},b=function(a){var b;switch(a.type){case"touchstart":b=TouchMouseEvent.DOWN;break;case"touchend":b=TouchMouseEvent.UP;break;case"touchmove":b=TouchMouseEvent.MOVE;break;default:return}var d,e=a.originalEvent.touches[0];d=b==TouchMouseEvent.UP?c(b,a,null,null):c(b,a,e.pageX,e.pageY),$(a.target).trigger(d)},c=function(a,b,c,d){return $.Event(a,{pageX:c,pageY:d,originalEvent:b})},d=$(document);"ontouchstart"in window?(d.on("touchstart",b),d.on("touchmove",b),d.on("touchend",b)):(d.on("mousedown",a),d.on("mouseup",a),d.on("mousemove",a))}();